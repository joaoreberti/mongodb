{"ast":null,"code":"import _toConsumableArray from\"/home/joaoreberti/fullstack/mongo/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/joaoreberti/fullstack/mongo/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Item from\"./Item\";import NewHero from\"./NewHero\";var List=function List(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),heroObject=_useState2[0],setHeroObject=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),refresh=_useState4[0],setRefresh=_useState4[1];var handleRemove=function handleRemove(name){console.log(name);console.log(heroObject);var newHeroObject=_toConsumableArray(heroObject);newHeroObject.filter(function(hero,index){if(hero.name!==name){return;}});setRefresh(true);setHeroObject(newHeroObject);};var handleAdd=function handleAdd(name,superpowers){var newHeroObject=_toConsumableArray(heroObject);newHeroObject.push({name:name,superpowers:superpowers});};useEffect(function(){console.log('mount');fetch(window.location.pathname+'list').then(function(result){return result.json();}).then(function(data){return setHeroObject(data);});return function(){console.log('unmount');};},[refresh]);return/*#__PURE__*/React.createElement(\"ul\",null,heroObject.map(function(hero,index){return/*#__PURE__*/React.createElement(Item,{delete:handleRemove,hero:hero,key:index});}),/*#__PURE__*/React.createElement(NewHero,{add:handleAdd}));};export default List;","map":{"version":3,"sources":["/home/joaoreberti/fullstack/mongo/my-app/src/components/List.tsx"],"names":["React","useState","useEffect","Item","NewHero","List","heroObject","setHeroObject","refresh","setRefresh","handleRemove","name","console","log","newHeroObject","filter","hero","index","handleAdd","superpowers","push","fetch","window","location","pathname","then","result","json","data","map"],"mappings":"sUAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAK,eACsBJ,QAAQ,CAAC,EAAD,CAD9B,wCACPK,UADO,eACKC,aADL,8BAEeN,QAAQ,CAAC,KAAD,CAFvB,yCAETO,OAFS,eAEAC,UAFA,eAId,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,CAAU,CAC3BC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAC,OAAO,CAACC,GAAR,CAAYP,UAAZ,EACA,GAAIQ,CAAAA,aAAa,oBAAOR,UAAP,CAAjB,CAEAQ,aAAa,CAACC,MAAd,CAAqB,SAACC,IAAD,CAAOC,KAAP,CAAe,CAChC,GAAID,IAAI,CAACL,IAAL,GAAcA,IAAlB,CAAuB,CACnB,OACH,CACJ,CAJD,EAKAF,UAAU,CAAC,IAAD,CAAV,CAEAF,aAAa,CAACO,aAAD,CAAb,CAIH,CAhBD,CAiBA,GAAMI,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACP,IAAD,CAAOQ,WAAP,CAAqB,CACnC,GAAIL,CAAAA,aAAa,oBAAOR,UAAP,CAAjB,CACAQ,aAAa,CAACM,IAAd,CAAmB,CAACT,IAAI,CAAEA,IAAP,CAAaQ,WAAW,CAAEA,WAA1B,CAAnB,EACH,CAHD,CAKAjB,SAAS,CAAC,UAAM,CACZU,OAAO,CAACC,GAAR,CAAY,OAAZ,EACAQ,KAAK,CAACC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyB,MAA1B,CAAL,CACHC,IADG,CACE,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACC,IAAP,EAAJ,EADR,EAEHF,IAFG,CAEE,SAAAG,IAAI,QAAIrB,CAAAA,aAAa,CAACqB,IAAD,CAAjB,EAFN,EAGA,MAAO,WAAM,CACThB,OAAO,CAACC,GAAR,CAAY,SAAZ,EAEH,CAHD,CAIH,CATQ,CASN,CAACL,OAAD,CATM,CAAT,CAWA,mBACI,8BACKF,UAAU,CAACuB,GAAX,CAAe,SAACb,IAAD,CAAOC,KAAP,qBAAiB,oBAAC,IAAD,EAAM,MAAM,CAAEP,YAAd,CAA4B,IAAI,CAAIM,IAApC,CAA0C,GAAG,CAAGC,KAAhD,EAAjB,EAAf,CADL,cAEI,oBAAC,OAAD,EAAS,GAAG,CAAGC,SAAf,EAFJ,CADJ,CAMH,CA3CD,CA6CA,cAAeb,CAAAA,IAAf","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport Item from \"./Item\"\nimport NewHero from \"./NewHero\"\nconst List = () =>{\n    const [heroObject, setHeroObject] = useState([])\n    let [refresh, setRefresh ] = useState(false)\n    \n    const handleRemove = (name) => {\n        console.log(name);\n        console.log(heroObject);\n        let newHeroObject = [...heroObject]\n        \n        newHeroObject.filter((hero, index)=>{\n            if( hero.name !== name){\n                return \n            }\n        })\n        setRefresh(true)\n\n        setHeroObject(newHeroObject)\n\n        \n        \n    }\n    const handleAdd = (name, superpowers)=>{\n        let newHeroObject = [...heroObject]\n        newHeroObject.push({name: name, superpowers: superpowers})\n    }\n    \n    useEffect(() => {\n        console.log('mount')\n        fetch(window.location.pathname+'list')\n    .then(result => result.json())\n    .then(data => setHeroObject(data));\n        return () => {\n            console.log('unmount')\n\n        }\n    }, [refresh])\n\n    return(\n        <ul>\n            {heroObject.map((hero, index) => <Item delete={handleRemove} hero = {hero} key ={index} />)}\n            <NewHero add ={handleAdd} />\n        </ul>\n    )\n}\n\nexport default List"]},"metadata":{},"sourceType":"module"}