{"ast":null,"code":"import _objectSpread from\"/home/joaoreberti/fullstack/mongo/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/joaoreberti/fullstack/mongo/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Item from\"./Item\";var List=function List(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),heroObject=_useState2[0],setHeroObject=_useState2[1];useEffect(function(){fetch(window.location.pathname+'list').then(function(result){return result.json();}).then(function(data){return setHeroObject(data);});return function(){var handleRemove=function handleRemove(name){console.log(name);console.log(heroObject);var newHeroObject=_objectSpread({},heroObject);newHeroObject.filter(function(hero,index){if(hero.name!==name){return;}});setHeroObject(newHeroObject);};};},[]);return/*#__PURE__*/React.createElement(\"ul\",null,heroObject.map(function(hero,index){return/*#__PURE__*/React.createElement(Item,{delete:function _delete(name){return handleRemove(name);},hero:hero,key:index});}));};export default List;","map":{"version":3,"sources":["/home/joaoreberti/fullstack/mongo/my-app/src/components/List.tsx"],"names":["React","useState","useEffect","Item","List","heroObject","setHeroObject","fetch","window","location","pathname","then","result","json","data","handleRemove","name","console","log","newHeroObject","filter","hero","index","map"],"mappings":"6TAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAK,eACsBH,QAAQ,CAAC,EAAD,CAD9B,wCACPI,UADO,eACKC,aADL,eAKdJ,SAAS,CAAC,UAAM,CACZK,KAAK,CAACC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyB,MAA1B,CAAL,CACHC,IADG,CACE,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACC,IAAP,EAAJ,EADR,EAEHF,IAFG,CAEE,SAAAG,IAAI,QAAIR,CAAAA,aAAa,CAACQ,IAAD,CAAjB,EAFN,EAGA,MAAO,WAAM,CACT,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,CAAU,CAC3BC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAC,OAAO,CAACC,GAAR,CAAYb,UAAZ,EACA,GAAIc,CAAAA,aAAa,kBAAOd,UAAP,CAAjB,CAEAc,aAAa,CAACC,MAAd,CAAqB,SAACC,IAAD,CAAOC,KAAP,CAAe,CAChC,GAAID,IAAI,CAACL,IAAL,GAAcA,IAAlB,CAAuB,CACnB,OACH,CACJ,CAJD,EAKAV,aAAa,CAACa,aAAD,CAAb,CAIH,CAdD,CAgBH,CAjBD,CAkBH,CAtBQ,CAsBN,EAtBM,CAAT,CAwBA,mBACI,8BACKd,UAAU,CAACkB,GAAX,CAAe,SAACF,IAAD,CAAOC,KAAP,qBAAiB,oBAAC,IAAD,EAAM,MAAM,CAAE,iBAACN,IAAD,QAASD,CAAAA,YAAY,CAACC,IAAD,CAArB,EAAd,CAA2C,IAAI,CAAIK,IAAnD,CAAyD,GAAG,CAAGC,KAA/D,EAAjB,EAAf,CADL,CADJ,CAKH,CAlCD,CAoCA,cAAelB,CAAAA,IAAf","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport Item from \"./Item\"\nconst List = () =>{\n    const [heroObject, setHeroObject] = useState([])\n    \n    \n    \n    useEffect(() => {\n        fetch(window.location.pathname+'list')\n    .then(result => result.json())\n    .then(data => setHeroObject(data));\n        return () => {\n            const handleRemove = (name) => {\n                console.log(name);\n                console.log(heroObject);\n                let newHeroObject = {...heroObject}\n                \n                newHeroObject.filter((hero, index)=>{\n                    if( hero.name !== name){\n                        return \n                    }\n                })\n                setHeroObject(newHeroObject)\n        \n                \n                \n            }\n        \n        }\n    }, [])\n\n    return(\n        <ul>\n            {heroObject.map((hero, index) => <Item delete={(name)=> handleRemove(name)} hero = {hero} key ={index} />)}\n        </ul>\n    )\n}\n\nexport default List"]},"metadata":{},"sourceType":"module"}